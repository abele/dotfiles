#!/bin/bash
#
# Create new bash script.
#
# Example usage:
#   $ new-script script_name

set -e

script_name=$1

main() {
    enforce_usage

    cat > "$script_name" <<EOL
#!/usr/bin/env bash
# Simple script description.
#
# Example usage:
#   $ script_name

set -e

main() {

}

main
EOL
    chmod a+x "$script_name"
    $EDITOR + "$script_name"
}

enforce_usage() {
    if [ -z "$script_name" ]; then
        echo "script name must be specified"
        usage
        exit $E_BADARGS
    elif [[ -e "$script_name" ]]; then
        echo "$script_name already exists"
        usage
        exit $E_BADARGS
    fi
}

usage() {
    echo "usage: `basename $0` script_name"
}

main
