#!/bin/bash
#
# Create new bash script.
#
# Example usage:
#   $ new-script script_name

set -e

script_name=$1

main() {
    enforce_usage

    echo -e "#!/bin/bash\n\n" > "$script_name"
    chmod a+x "$script_name"
    $EDITOR + "$script_name"
}

enforce_usage() {
    if [ -z "$script_name" ]; then
        echo "script name must be specified"
        usage
        exit $E_BADARGS
    elif [[ -e "$script_name" ]]; then
        echo "$script_name already exists"
        usage
        exit $E_BADARGS
    fi
}

usage() {
    echo "usage: `basename $0` script_name"
}

main
