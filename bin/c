#!/usr/bin/env bash
#
# Starts Chromium with different profiles
#
# Example usage:
#   $ c [-i] -u gmail.com [Dev]

set -e

while getopts ":iu:" opt; do
    case $opt in
        i)
            incognito="--incognito"
            ;;
        u)
            url="${OPTARG}"
            ;;
        \?)
            echo "Invalid option: -$OPTARG" >&2
            exit 1
            ;;
        :)
            echo "Option -$OPTARG requires an argument." >&2
            exit 1
            ;;
    esac
done

shift $((OPTIND-1))
profile_name=${@:-Default}

main() {
    chromium --profile-directory="${profile_name}" ${incognito} "${url}"
}


main
